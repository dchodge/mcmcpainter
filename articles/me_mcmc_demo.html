<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Me MCMC Line Painting Demo â€¢ mcmcPainter</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js" integrity="sha512-v2CJ7UaYy4JwqLDIrZUI/4hqeoQieOmAZNXBeQyjo21dadnwR+8ZaIJVT8EE2iyI61OV8e6M8PP2/4hpQINQ/g==" crossorigin="anonymous" referrerpolicy="no-referrer"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="Me MCMC Line Painting Demo">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">


    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">mcmcPainter</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">1.0.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Articles

    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/butterfly_mcmc_demo.html">Butterfly MCMC Line Painting Demo</a>
    </li>
    <li>
      <a href="../articles/iamami_mcmc_demo.html">MCMC Line Painting Demo: Iamami Image</a>
    </li>
    <li>
      <a href="../articles/leaf_mcmc_demo.html">MCMC Line Painting Demo: Leaf Image</a>
    </li>
    <li>
      <a href="../articles/mcmcPainter_demo.html">mcmcPainter: Complete MCMC Line Painting Demo</a>
    </li>
    <li>
      <a href="../articles/me_mcmc_demo.html">Me MCMC Line Painting Demo</a>
    </li>
    <li>
      <a href="../articles/octopus_mcmc_demo.html">Octopus MCMC Line Painting Demo</a>
    </li>
  </ul>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/davidhodgson/mcmcPainter/" class="external-link">
    <span class="fab fa-github fa-lg"></span>

  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->



      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>Me MCMC Line Painting Demo</h1>
                        <h4 data-toc-skip class="author">David
Hodgson</h4>
            
            <h4 data-toc-skip class="date">2025-09-15</h4>
      
      <small class="dont-index">Source: <a href="https://github.com/davidhodgson/mcmcPainter/blob/main/vignettes/me_mcmc_demo.Rmd" class="external-link"><code>vignettes/me_mcmc_demo.Rmd</code></a></small>
      <div class="hidden name"><code>me_mcmc_demo.Rmd</code></div>

    </div>

    
    
<div class="section level2">
<h2 id="me-mcmc-line-painting-demo">Me MCMC Line Painting Demo<a class="anchor" aria-label="anchor" href="#me-mcmc-line-painting-demo"></a>
</h2>
<p>This vignette demonstrates the complete workflow for generating line
paintings using the <code>mcmcPainter</code> package, featuring the
personal <code>me.png</code> image with 100,000 MCMC iterations for
maximum detail and quality.</p>
<div class="section level3">
<h3 id="image-analysis">ðŸ‘¤ <strong>Image Analysis</strong><a class="anchor" aria-label="anchor" href="#image-analysis"></a>
</h3>
<p>First, letâ€™s analyze the me image to understand its
characteristics:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Load package functions</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/source.html" class="external-link">source</a></span><span class="op">(</span><span class="st">"../R/mcmcPainter.R"</span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/source.html" class="external-link">source</a></span><span class="op">(</span><span class="st">"../R/mcmc_core.R"</span><span class="op">)</span> </span>
<span><span class="kw"><a href="https://rdrr.io/r/base/source.html" class="external-link">source</a></span><span class="op">(</span><span class="st">"../R/utilities.R"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Analyze the me image</span></span>
<span><span class="va">image_path</span> <span class="op">&lt;-</span> <span class="st">"../inst/extdata/me.png"</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/cat.html" class="external-link">cat</a></span><span class="op">(</span><span class="st">"Analyzing image:"</span>, <span class="fu"><a href="https://rdrr.io/r/base/basename.html" class="external-link">basename</a></span><span class="op">(</span><span class="va">image_path</span><span class="op">)</span>, <span class="st">"\n"</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## Analyzing image: me.png</span></span></code></pre>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/cat.html" class="external-link">cat</a></span><span class="op">(</span><span class="st">"=====================================\n"</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## =====================================</span></span></code></pre>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">img_info</span> <span class="op">&lt;-</span> <span class="fu">get_image_info</span><span class="op">(</span><span class="va">image_path</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/cat.html" class="external-link">cat</a></span><span class="op">(</span><span class="st">"File:"</span>, <span class="fu"><a href="https://rdrr.io/r/base/basename.html" class="external-link">basename</a></span><span class="op">(</span><span class="va">image_path</span><span class="op">)</span>, <span class="st">"\n"</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## File: me.png</span></span></code></pre>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/cat.html" class="external-link">cat</a></span><span class="op">(</span><span class="st">"Original dimensions:"</span>, <span class="va">img_info</span><span class="op">$</span><span class="va">width</span>, <span class="st">"x"</span>, <span class="va">img_info</span><span class="op">$</span><span class="va">height</span>, <span class="st">"pixels\n"</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## Original dimensions: 400 x 487 pixels</span></span></code></pre>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/cat.html" class="external-link">cat</a></span><span class="op">(</span><span class="st">"File size:"</span>, <span class="fu"><a href="https://rdrr.io/r/base/Round.html" class="external-link">round</a></span><span class="op">(</span><span class="va">img_info</span><span class="op">$</span><span class="va">file_size</span> <span class="op">/</span> <span class="fl">1024</span>, <span class="fl">1</span><span class="op">)</span>, <span class="st">"KB\n"</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## File size: 271.9 KB</span></span></code></pre>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/cat.html" class="external-link">cat</a></span><span class="op">(</span><span class="st">"PNG verification:"</span>, <span class="fu"><a href="https://rdrr.io/r/base/ifelse.html" class="external-link">ifelse</a></span><span class="op">(</span><span class="va">img_info</span><span class="op">$</span><span class="va">is_true_png</span>, <span class="st">"âœ“ True PNG"</span>, <span class="st">"âœ— Not a true PNG"</span><span class="op">)</span>, <span class="st">"\n"</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## PNG verification: âœ“ True PNG</span></span></code></pre>
<div class="sourceCode" id="cb13"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/cat.html" class="external-link">cat</a></span><span class="op">(</span><span class="st">"Aspect ratio:"</span>, <span class="fu"><a href="https://rdrr.io/r/base/Round.html" class="external-link">round</a></span><span class="op">(</span><span class="va">img_info</span><span class="op">$</span><span class="va">width</span> <span class="op">/</span> <span class="va">img_info</span><span class="op">$</span><span class="va">height</span>, <span class="fl">3</span><span class="op">)</span>, <span class="st">"\n"</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## Aspect ratio: 0.821</span></span></code></pre>
<div class="sourceCode" id="cb15"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/cat.html" class="external-link">cat</a></span><span class="op">(</span><span class="st">"Total pixels:"</span>, <span class="fu"><a href="https://rdrr.io/r/base/format.html" class="external-link">format</a></span><span class="op">(</span><span class="va">img_info</span><span class="op">$</span><span class="va">width</span> <span class="op">*</span> <span class="va">img_info</span><span class="op">$</span><span class="va">height</span>, big.mark <span class="op">=</span> <span class="st">","</span><span class="op">)</span>, <span class="st">"\n\n"</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## Total pixels: 194,800</span></span></code></pre>
<div class="sourceCode" id="cb17"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Display the original image</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://docs.ropensci.org/magick/" class="external-link">magick</a></span><span class="op">)</span></span>
<span><span class="va">me_img</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://docs.ropensci.org/magick/reference/editing.html" class="external-link">image_read</a></span><span class="op">(</span><span class="va">image_path</span><span class="op">)</span></span>
<span><span class="va">image_info</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://docs.ropensci.org/magick/reference/attributes.html" class="external-link">image_info</a></span><span class="op">(</span><span class="va">me_img</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/cat.html" class="external-link">cat</a></span><span class="op">(</span><span class="st">"Magick image info:\n"</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## Magick image info:</span></span></code></pre>
<div class="sourceCode" id="cb19"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/cat.html" class="external-link">cat</a></span><span class="op">(</span><span class="st">"Dimensions:"</span>, <span class="va">image_info</span><span class="op">$</span><span class="va">width</span>, <span class="st">"x"</span>, <span class="va">image_info</span><span class="op">$</span><span class="va">height</span>, <span class="st">"\n"</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## Dimensions: 400 x 487</span></span></code></pre>
<div class="sourceCode" id="cb21"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/cat.html" class="external-link">cat</a></span><span class="op">(</span><span class="st">"Format:"</span>, <span class="va">image_info</span><span class="op">$</span><span class="va">format</span>, <span class="st">"\n"</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## Format: PNG</span></span></code></pre>
<div class="sourceCode" id="cb23"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/cat.html" class="external-link">cat</a></span><span class="op">(</span><span class="st">"Colorspace:"</span>, <span class="va">image_info</span><span class="op">$</span><span class="va">colorspace</span>, <span class="st">"\n"</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## Colorspace: sRGB</span></span></code></pre>
<div class="sourceCode" id="cb25"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/cat.html" class="external-link">cat</a></span><span class="op">(</span><span class="st">"Filesize:"</span>, <span class="fu"><a href="https://rdrr.io/r/base/Round.html" class="external-link">round</a></span><span class="op">(</span><span class="va">image_info</span><span class="op">$</span><span class="va">filesize</span> <span class="op">/</span> <span class="fl">1024</span>, <span class="fl">1</span><span class="op">)</span>, <span class="st">"KB\n\n"</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## Filesize: 271.9 KB</span></span></code></pre>
</div>
<div class="section level3">
<h3 id="mcmc-configuration">ðŸŽ¯ <strong>MCMC Configuration</strong><a class="anchor" aria-label="anchor" href="#mcmc-configuration"></a>
</h3>
<p>Now letâ€™s configure the MCMC parameters for optimal performance on
the me image:</p>
<div class="sourceCode" id="cb27"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># High-quality configuration for 100K steps</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/cat.html" class="external-link">cat</a></span><span class="op">(</span><span class="st">"High-Quality MCMC Configuration:\n"</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## High-Quality MCMC Configuration:</span></span></code></pre>
<div class="sourceCode" id="cb29"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/cat.html" class="external-link">cat</a></span><span class="op">(</span><span class="st">"================================\n"</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## ================================</span></span></code></pre>
<div class="sourceCode" id="cb31"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/cat.html" class="external-link">cat</a></span><span class="op">(</span><span class="st">"Target iterations: 100,000\n"</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## Target iterations: 100,000</span></span></code></pre>
<div class="sourceCode" id="cb33"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/cat.html" class="external-link">cat</a></span><span class="op">(</span><span class="st">"Save frequency: Every 5,000 iterations\n"</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## Save frequency: Every 5,000 iterations</span></span></code></pre>
<div class="sourceCode" id="cb35"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/cat.html" class="external-link">cat</a></span><span class="op">(</span><span class="st">"Max dimension: 1200 (high resolution)\n"</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## Max dimension: 1200 (high resolution)</span></span></code></pre>
<div class="sourceCode" id="cb37"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/cat.html" class="external-link">cat</a></span><span class="op">(</span><span class="st">"Expected runtime: 3-5 hours (depending on system)\n\n"</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## Expected runtime: 3-5 hours (depending on system)</span></span></code></pre>
<div class="sourceCode" id="cb39"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Auto-configure MCMC parameters</span></span>
<span><span class="va">config</span> <span class="op">&lt;-</span> <span class="fu">auto_configure_mcmc</span><span class="op">(</span></span>
<span>  image_path <span class="op">=</span> <span class="va">image_path</span>,</span>
<span>  max_dimension <span class="op">=</span> <span class="fl">1200</span>,        <span class="co"># High resolution</span></span>
<span>  target_iterations <span class="op">=</span> <span class="fl">100000</span>    <span class="co"># 100K iterations</span></span>
<span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## Image Analysis:</span></span>
<span><span class="co">## ==============</span></span>
<span><span class="co">## File: me.png </span></span>
<span><span class="co">## Original dimensions: 400 x 487 pixels</span></span>
<span><span class="co">## File size: 271.9 KB</span></span>
<span><span class="co">## PNG verification: âœ“ True PNG </span></span>
<span><span class="co">## </span></span>
<span><span class="co">## Optimized MCMC Parameters:</span></span>
<span><span class="co">## ==========================</span></span>
<span><span class="co">## Scaled dimensions: 400 x 487 pixels</span></span>
<span><span class="co">## Scaling factor: 1 </span></span>
<span><span class="co">## Adjusted iterations: 1e+05 </span></span>
<span><span class="co">## Save frequency: 5000</span></span></code></pre>
<div class="sourceCode" id="cb41"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/cat.html" class="external-link">cat</a></span><span class="op">(</span><span class="st">"Optimized MCMC Parameters:\n"</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## Optimized MCMC Parameters:</span></span></code></pre>
<div class="sourceCode" id="cb43"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/cat.html" class="external-link">cat</a></span><span class="op">(</span><span class="st">"==========================\n"</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## ==========================</span></span></code></pre>
<div class="sourceCode" id="cb45"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/cat.html" class="external-link">cat</a></span><span class="op">(</span><span class="st">"Original dimensions:"</span>, <span class="va">config</span><span class="op">$</span><span class="va">original_width</span>, <span class="st">"x"</span>, <span class="va">config</span><span class="op">$</span><span class="va">original_height</span>, <span class="st">"\n"</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## Original dimensions: 400 x 487</span></span></code></pre>
<div class="sourceCode" id="cb47"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/cat.html" class="external-link">cat</a></span><span class="op">(</span><span class="st">"Scaled dimensions:"</span>, <span class="va">config</span><span class="op">$</span><span class="va">scaled_width</span>, <span class="st">"x"</span>, <span class="va">config</span><span class="op">$</span><span class="va">scaled_height</span>, <span class="st">"\n"</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## Scaled dimensions: 400 x 487</span></span></code></pre>
<div class="sourceCode" id="cb49"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/cat.html" class="external-link">cat</a></span><span class="op">(</span><span class="st">"Scaling factor:"</span>, <span class="fu"><a href="https://rdrr.io/r/base/Round.html" class="external-link">round</a></span><span class="op">(</span><span class="va">config</span><span class="op">$</span><span class="va">scale_factor</span>, <span class="fl">3</span><span class="op">)</span>, <span class="st">"\n"</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## Scaling factor: 1</span></span></code></pre>
<div class="sourceCode" id="cb51"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/cat.html" class="external-link">cat</a></span><span class="op">(</span><span class="st">"Adjusted iterations:"</span>, <span class="fu"><a href="https://rdrr.io/r/base/format.html" class="external-link">format</a></span><span class="op">(</span><span class="va">config</span><span class="op">$</span><span class="va">iterations</span>, big.mark <span class="op">=</span> <span class="st">","</span><span class="op">)</span>, <span class="st">"\n"</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## Adjusted iterations: 1e+05</span></span></code></pre>
<div class="sourceCode" id="cb53"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/cat.html" class="external-link">cat</a></span><span class="op">(</span><span class="st">"Save frequency:"</span>, <span class="fu"><a href="https://rdrr.io/r/base/format.html" class="external-link">format</a></span><span class="op">(</span><span class="va">config</span><span class="op">$</span><span class="va">save_every</span>, big.mark <span class="op">=</span> <span class="st">","</span><span class="op">)</span>, <span class="st">"\n"</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## Save frequency: 5,000</span></span></code></pre>
<div class="sourceCode" id="cb55"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/cat.html" class="external-link">cat</a></span><span class="op">(</span><span class="st">"PNG verification:"</span>, <span class="fu"><a href="https://rdrr.io/r/base/ifelse.html" class="external-link">ifelse</a></span><span class="op">(</span><span class="va">config</span><span class="op">$</span><span class="va">is_true_png</span>, <span class="st">"âœ“ True PNG"</span>, <span class="st">"âœ— Not a true PNG"</span><span class="op">)</span>, <span class="st">"\n\n"</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## PNG verification: âœ“ True PNG</span></span></code></pre>
<div class="sourceCode" id="cb57"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Calculate complexity metrics</span></span>
<span><span class="va">original_pixels</span> <span class="op">&lt;-</span> <span class="va">config</span><span class="op">$</span><span class="va">original_width</span> <span class="op">*</span> <span class="va">config</span><span class="op">$</span><span class="va">original_height</span></span>
<span><span class="va">scaled_pixels</span> <span class="op">&lt;-</span> <span class="va">config</span><span class="op">$</span><span class="va">scaled_width</span> <span class="op">*</span> <span class="va">config</span><span class="op">$</span><span class="va">scaled_height</span></span>
<span><span class="va">complexity_reduction</span> <span class="op">&lt;-</span> <span class="op">(</span><span class="fl">1</span> <span class="op">-</span> <span class="va">scaled_pixels</span> <span class="op">/</span> <span class="va">original_pixels</span><span class="op">)</span> <span class="op">*</span> <span class="fl">100</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/cat.html" class="external-link">cat</a></span><span class="op">(</span><span class="st">"Complexity Analysis:\n"</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## Complexity Analysis:</span></span></code></pre>
<div class="sourceCode" id="cb59"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/cat.html" class="external-link">cat</a></span><span class="op">(</span><span class="st">"===================\n"</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## ===================</span></span></code></pre>
<div class="sourceCode" id="cb61"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/cat.html" class="external-link">cat</a></span><span class="op">(</span><span class="st">"Original pixels:"</span>, <span class="fu"><a href="https://rdrr.io/r/base/format.html" class="external-link">format</a></span><span class="op">(</span><span class="va">original_pixels</span>, big.mark <span class="op">=</span> <span class="st">","</span><span class="op">)</span>, <span class="st">"\n"</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## Original pixels: 194,800</span></span></code></pre>
<div class="sourceCode" id="cb63"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/cat.html" class="external-link">cat</a></span><span class="op">(</span><span class="st">"Scaled pixels:"</span>, <span class="fu"><a href="https://rdrr.io/r/base/format.html" class="external-link">format</a></span><span class="op">(</span><span class="va">scaled_pixels</span>, big.mark <span class="op">=</span> <span class="st">","</span><span class="op">)</span>, <span class="st">"\n"</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## Scaled pixels: 194,800</span></span></code></pre>
<div class="sourceCode" id="cb65"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/cat.html" class="external-link">cat</a></span><span class="op">(</span><span class="st">"Complexity reduction:"</span>, <span class="fu"><a href="https://rdrr.io/r/base/Round.html" class="external-link">round</a></span><span class="op">(</span><span class="va">complexity_reduction</span>, <span class="fl">1</span><span class="op">)</span>, <span class="st">"%\n"</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## Complexity reduction: 0 %</span></span></code></pre>
<div class="sourceCode" id="cb67"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/cat.html" class="external-link">cat</a></span><span class="op">(</span><span class="st">"Memory usage:"</span>, <span class="fu"><a href="https://rdrr.io/r/base/Round.html" class="external-link">round</a></span><span class="op">(</span><span class="va">scaled_pixels</span> <span class="op">*</span> <span class="fl">3</span> <span class="op">*</span> <span class="fl">8</span> <span class="op">/</span> <span class="fl">1024</span> <span class="op">/</span> <span class="fl">1024</span>, <span class="fl">1</span><span class="op">)</span>, <span class="st">"MB\n\n"</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## Memory usage: 4.5 MB</span></span></code></pre>
</div>
<div class="section level3">
<h3 id="running-the-mcmc-algorithm">ðŸš€ <strong>Running the MCMC Algorithm</strong><a class="anchor" aria-label="anchor" href="#running-the-mcmc-algorithm"></a>
</h3>
<p>Now letâ€™s run the MCMC algorithm to generate the line painting. This
will take several hours for 100K iterations:</p>
<div class="sourceCode" id="cb69"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Compile the C++ code for performance</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/cat.html" class="external-link">cat</a></span><span class="op">(</span><span class="st">"Compiling C++ code...\n"</span><span class="op">)</span></span>
<span><span class="fu">Rcpp</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/Rcpp/man/sourceCpp.html" class="external-link">sourceCpp</a></span><span class="op">(</span><span class="st">"../src/mcmc_painter_cpp.cpp"</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/cat.html" class="external-link">cat</a></span><span class="op">(</span><span class="st">"C++ code compiled successfully!\n\n"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Run MCMC with high-quality settings</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/cat.html" class="external-link">cat</a></span><span class="op">(</span><span class="st">"Starting high-quality MCMC run for me...\n"</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/cat.html" class="external-link">cat</a></span><span class="op">(</span><span class="st">"This will take several hours. Progress will be saved every 5,000 iterations.\n\n"</span><span class="op">)</span></span>
<span></span>
<span><span class="va">res</span> <span class="op">&lt;-</span> <span class="fu">run_line_painter</span><span class="op">(</span></span>
<span>  image_path <span class="op">=</span> <span class="va">image_path</span>,</span>
<span>  max_dimension <span class="op">=</span> <span class="fl">1200</span>,        <span class="co"># High resolution</span></span>
<span>  iters <span class="op">=</span> <span class="fl">100000</span>,              <span class="co"># 100K iterations</span></span>
<span>  out_dir <span class="op">=</span> <span class="st">"../inst/results/me_100k_high_quality"</span>,</span>
<span>  seed <span class="op">=</span> <span class="fl">42</span>,</span>
<span>  auto_config <span class="op">=</span> <span class="cn">TRUE</span>,          <span class="co"># Enable auto-configuration</span></span>
<span>  verbose <span class="op">=</span> <span class="cn">TRUE</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/cat.html" class="external-link">cat</a></span><span class="op">(</span><span class="st">"\nðŸŽ‰ MCMC completed successfully!\n"</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/cat.html" class="external-link">cat</a></span><span class="op">(</span><span class="st">"===============================\n"</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/cat.html" class="external-link">cat</a></span><span class="op">(</span><span class="st">"Final number of lines:"</span>, <span class="fu"><a href="https://rdrr.io/r/base/length.html" class="external-link">length</a></span><span class="op">(</span><span class="va">res</span><span class="op">$</span><span class="va">lines</span><span class="op">)</span>, <span class="st">"\n"</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/cat.html" class="external-link">cat</a></span><span class="op">(</span><span class="st">"Best iteration:"</span>, <span class="va">res</span><span class="op">$</span><span class="va">best</span><span class="op">$</span><span class="va">iter</span>, <span class="st">"\n"</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/cat.html" class="external-link">cat</a></span><span class="op">(</span><span class="st">"Best SSE:"</span>, <span class="fu"><a href="https://rdrr.io/r/base/Round.html" class="external-link">round</a></span><span class="op">(</span><span class="va">res</span><span class="op">$</span><span class="va">best</span><span class="op">$</span><span class="va">sse</span>, <span class="fl">2</span><span class="op">)</span>, <span class="st">"\n"</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="results-analysis">ðŸ“Š <strong>Results Analysis</strong><a class="anchor" aria-label="anchor" href="#results-analysis"></a>
</h3>
<p>After the MCMC completes, letâ€™s analyze the results:</p>
<div class="sourceCode" id="cb70"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Load the final image with the same dimensions used in MCMC</span></span>
<span><span class="va">target_img</span> <span class="op">&lt;-</span> <span class="fu">load_image_rgb</span><span class="op">(</span><span class="va">image_path</span>, </span>
<span>                            out_w <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/dim.html" class="external-link">dim</a></span><span class="op">(</span><span class="va">res</span><span class="op">$</span><span class="va">canvas</span><span class="op">)</span><span class="op">[</span><span class="fl">2</span><span class="op">]</span>, </span>
<span>                            out_h <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/dim.html" class="external-link">dim</a></span><span class="op">(</span><span class="va">res</span><span class="op">$</span><span class="va">canvas</span><span class="op">)</span><span class="op">[</span><span class="fl">1</span><span class="op">]</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Create default white canvas</span></span>
<span><span class="va">H</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/dim.html" class="external-link">dim</a></span><span class="op">(</span><span class="va">target_img</span><span class="op">)</span><span class="op">[</span><span class="fl">1</span><span class="op">]</span></span>
<span><span class="va">W</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/dim.html" class="external-link">dim</a></span><span class="op">(</span><span class="va">target_img</span><span class="op">)</span><span class="op">[</span><span class="fl">2</span><span class="op">]</span></span>
<span><span class="va">default_canvas</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/array.html" class="external-link">array</a></span><span class="op">(</span><span class="fl">1</span>, dim <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="va">H</span>, <span class="va">W</span>, <span class="fl">3</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Calculate performance metrics</span></span>
<span><span class="va">sse</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/sum.html" class="external-link">sum</a></span><span class="op">(</span><span class="op">(</span><span class="va">target_img</span> <span class="op">-</span> <span class="va">res</span><span class="op">$</span><span class="va">best</span><span class="op">$</span><span class="va">canvas</span><span class="op">)</span><span class="op">^</span><span class="fl">2</span><span class="op">)</span></span>
<span><span class="va">mse</span> <span class="op">&lt;-</span> <span class="va">sse</span> <span class="op">/</span> <span class="fu"><a href="https://rdrr.io/r/base/length.html" class="external-link">length</a></span><span class="op">(</span><span class="va">target_img</span><span class="op">)</span></span>
<span><span class="va">psnr</span> <span class="op">&lt;-</span> <span class="fl">20</span> <span class="op">*</span> <span class="fu"><a href="https://rdrr.io/r/base/Log.html" class="external-link">log10</a></span><span class="op">(</span><span class="fl">1</span> <span class="op">/</span> <span class="fu"><a href="https://rdrr.io/r/base/MathFun.html" class="external-link">sqrt</a></span><span class="op">(</span><span class="va">mse</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/cat.html" class="external-link">cat</a></span><span class="op">(</span><span class="st">"Performance Metrics:\n"</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/cat.html" class="external-link">cat</a></span><span class="op">(</span><span class="st">"==================\n"</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/cat.html" class="external-link">cat</a></span><span class="op">(</span><span class="st">"Best SSE:"</span>, <span class="fu"><a href="https://rdrr.io/r/base/Round.html" class="external-link">round</a></span><span class="op">(</span><span class="va">sse</span>, <span class="fl">2</span><span class="op">)</span>, <span class="st">"\n"</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/cat.html" class="external-link">cat</a></span><span class="op">(</span><span class="st">"Best MSE:"</span>, <span class="fu"><a href="https://rdrr.io/r/base/Round.html" class="external-link">round</a></span><span class="op">(</span><span class="va">mse</span>, <span class="fl">6</span><span class="op">)</span>, <span class="st">"\n"</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/cat.html" class="external-link">cat</a></span><span class="op">(</span><span class="st">"Best PSNR:"</span>, <span class="fu"><a href="https://rdrr.io/r/base/Round.html" class="external-link">round</a></span><span class="op">(</span><span class="va">psnr</span>, <span class="fl">2</span><span class="op">)</span>, <span class="st">"dB\n"</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/cat.html" class="external-link">cat</a></span><span class="op">(</span><span class="st">"Number of lines:"</span>, <span class="fu"><a href="https://rdrr.io/r/base/length.html" class="external-link">length</a></span><span class="op">(</span><span class="va">res</span><span class="op">$</span><span class="va">lines</span><span class="op">)</span>, <span class="st">"\n"</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/cat.html" class="external-link">cat</a></span><span class="op">(</span><span class="st">"Final dimensions:"</span>, <span class="va">W</span>, <span class="st">"x"</span>, <span class="va">H</span>, <span class="st">"\n\n"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Display optimization summary</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/cat.html" class="external-link">cat</a></span><span class="op">(</span><span class="st">"Optimization Summary:\n"</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/cat.html" class="external-link">cat</a></span><span class="op">(</span><span class="st">"====================\n"</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/cat.html" class="external-link">cat</a></span><span class="op">(</span><span class="st">"Original dimensions:"</span>, <span class="va">config</span><span class="op">$</span><span class="va">original_width</span>, <span class="st">"x"</span>, <span class="va">config</span><span class="op">$</span><span class="va">original_height</span>, <span class="st">"\n"</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/cat.html" class="external-link">cat</a></span><span class="op">(</span><span class="st">"Final dimensions:"</span>, <span class="va">W</span>, <span class="st">"x"</span>, <span class="va">H</span>, <span class="st">"\n"</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/cat.html" class="external-link">cat</a></span><span class="op">(</span><span class="st">"Total iterations:"</span>, <span class="fl">100000</span>, <span class="st">"\n"</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/cat.html" class="external-link">cat</a></span><span class="op">(</span><span class="st">"Save frequency:"</span>, <span class="fl">5000</span>, <span class="st">"\n"</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/cat.html" class="external-link">cat</a></span><span class="op">(</span><span class="st">"PNG verification:"</span>, <span class="fu"><a href="https://rdrr.io/r/base/ifelse.html" class="external-link">ifelse</a></span><span class="op">(</span><span class="va">config</span><span class="op">$</span><span class="va">is_true_png</span>, <span class="st">"âœ“ True PNG"</span>, <span class="st">"âœ— Not a true PNG"</span><span class="op">)</span>, <span class="st">"\n"</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="triptych-visualization">ðŸŽ¨ <strong>Triptych Visualization</strong><a class="anchor" aria-label="anchor" href="#triptych-visualization"></a>
</h3>
<p>Create a beautiful triptych showing the progression from white canvas
to final artwork:</p>
<div class="sourceCode" id="cb71"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Create triptych</span></span>
<span><span class="fu">create_triptych</span><span class="op">(</span></span>
<span>  default_canvas <span class="op">=</span> <span class="va">default_canvas</span>,</span>
<span>  best_canvas <span class="op">=</span> <span class="va">res</span><span class="op">$</span><span class="va">best</span><span class="op">$</span><span class="va">canvas</span>,</span>
<span>  target_img <span class="op">=</span> <span class="va">target_img</span>,</span>
<span>  titles <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Default (White Canvas)"</span>, <span class="st">"Best MCMC Result (100K steps)"</span>, <span class="st">"True Me Image"</span><span class="op">)</span>,</span>
<span>  main_title <span class="op">=</span> <span class="st">"Me Image: 100K MCMC Progression"</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Save triptych in multiple formats</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/cat.html" class="external-link">cat</a></span><span class="op">(</span><span class="st">"Saving triptych...\n"</span><span class="op">)</span></span>
<span><span class="va">output_dir</span> <span class="op">&lt;-</span> <span class="st">"../inst/results/me_100k_high_quality"</span></span>
<span></span>
<span><span class="co"># Save as PDF</span></span>
<span><span class="va">pdf_path</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/file.path.html" class="external-link">file.path</a></span><span class="op">(</span><span class="va">output_dir</span>, <span class="st">"me_100k_triptych.pdf"</span><span class="op">)</span></span>
<span><span class="fu">save_triptych</span><span class="op">(</span></span>
<span>  default_canvas <span class="op">=</span> <span class="va">default_canvas</span>,</span>
<span>  best_canvas <span class="op">=</span> <span class="va">res</span><span class="op">$</span><span class="va">best</span><span class="op">$</span><span class="va">canvas</span>,</span>
<span>  target_img <span class="op">=</span> <span class="va">target_img</span>,</span>
<span>  output_path <span class="op">=</span> <span class="va">pdf_path</span>,</span>
<span>  width <span class="op">=</span> <span class="fl">18</span>, height <span class="op">=</span> <span class="fl">7</span>,  <span class="co"># Larger for high-quality output</span></span>
<span>  titles <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Default (White Canvas)"</span>, <span class="st">"Best MCMC Result (100K steps)"</span>, <span class="st">"True Me Image"</span><span class="op">)</span>,</span>
<span>  main_title <span class="op">=</span> <span class="st">"Me Image: 100K MCMC Progression"</span>,</span>
<span>  format <span class="op">=</span> <span class="st">"pdf"</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Save as PNG</span></span>
<span><span class="va">png_path</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/file.path.html" class="external-link">file.path</a></span><span class="op">(</span><span class="va">output_dir</span>, <span class="st">"me_100k_triptych.png"</span><span class="op">)</span></span>
<span><span class="fu">save_triptych</span><span class="op">(</span></span>
<span>  default_canvas <span class="op">=</span> <span class="va">default_canvas</span>,</span>
<span>  best_canvas <span class="op">=</span> <span class="va">res</span><span class="op">$</span><span class="va">best</span><span class="op">$</span><span class="va">canvas</span>,</span>
<span>  target_img <span class="op">=</span> <span class="va">target_img</span>,</span>
<span>  output_path <span class="op">=</span> <span class="va">png_path</span>,</span>
<span>  width <span class="op">=</span> <span class="fl">18</span>, height <span class="op">=</span> <span class="fl">7</span>,  <span class="co"># Larger for high-quality output</span></span>
<span>  titles <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Default (White Canvas)"</span>, <span class="st">"Best MCMC Result (100K steps)"</span>, <span class="st">"True Me Image"</span><span class="op">)</span>,</span>
<span>  main_title <span class="op">=</span> <span class="st">"Me Image: 100K MCMC Progression"</span>,</span>
<span>  format <span class="op">=</span> <span class="st">"png"</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/cat.html" class="external-link">cat</a></span><span class="op">(</span><span class="st">"Triptych saved successfully!\n"</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/cat.html" class="external-link">cat</a></span><span class="op">(</span><span class="st">"Files created:\n"</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/cat.html" class="external-link">cat</a></span><span class="op">(</span><span class="st">"- PDF:"</span>, <span class="va">pdf_path</span>, <span class="st">"\n"</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/cat.html" class="external-link">cat</a></span><span class="op">(</span><span class="st">"- PNG:"</span>, <span class="va">png_path</span>, <span class="st">"\n"</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="output-files">ðŸ“ <strong>Output Files</strong><a class="anchor" aria-label="anchor" href="#output-files"></a>
</h3>
<p>The MCMC run will generate several output files:</p>
<div class="sourceCode" id="cb72"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># List all saved iterations</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/cat.html" class="external-link">cat</a></span><span class="op">(</span><span class="st">"Saved Iterations:\n"</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/cat.html" class="external-link">cat</a></span><span class="op">(</span><span class="st">"=================\n"</span><span class="op">)</span></span>
<span><span class="va">iter_files</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.files.html" class="external-link">list.files</a></span><span class="op">(</span><span class="va">output_dir</span>, pattern <span class="op">=</span> <span class="st">"iter_.*\\.png"</span>, full.names <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span>
<span><span class="va">iter_files</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/sort.html" class="external-link">sort</a></span><span class="op">(</span><span class="va">iter_files</span><span class="op">)</span></span>
<span><span class="kw">for</span> <span class="op">(</span><span class="va">file</span> <span class="kw">in</span> <span class="va">iter_files</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/cat.html" class="external-link">cat</a></span><span class="op">(</span><span class="st">"-"</span>, <span class="va">file</span>, <span class="st">"\n"</span><span class="op">)</span></span>
<span><span class="op">}</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/cat.html" class="external-link">cat</a></span><span class="op">(</span><span class="st">"\nFinal Output Files:\n"</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/cat.html" class="external-link">cat</a></span><span class="op">(</span><span class="st">"==================\n"</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/cat.html" class="external-link">cat</a></span><span class="op">(</span><span class="st">"- Best canvas: best_canvas.png\n"</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/cat.html" class="external-link">cat</a></span><span class="op">(</span><span class="st">"- Final lines: final_lines.RData\n"</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/cat.html" class="external-link">cat</a></span><span class="op">(</span><span class="st">"- Triptych PDF: me_100k_triptych.pdf\n"</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/cat.html" class="external-link">cat</a></span><span class="op">(</span><span class="st">"- Triptych PNG: me_100k_triptych.png\n"</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/cat.html" class="external-link">cat</a></span><span class="op">(</span><span class="st">"- Progress log: mcmc_progress.log\n"</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="progression-analysis">ðŸ” <strong>Progression Analysis</strong><a class="anchor" aria-label="anchor" href="#progression-analysis"></a>
</h3>
<p>Letâ€™s examine how the MCMC progresses over the 100K iterations:</p>
<div class="sourceCode" id="cb73"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Load saved iterations for analysis</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="http://www.rforge.net/png/" class="external-link">png</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va">grid</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Function to load and display progression</span></span>
<span><span class="va">show_progression</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">iterations</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">25000</span>, <span class="fl">50000</span>, <span class="fl">75000</span>, <span class="fl">100000</span><span class="op">)</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/graphics/par.html" class="external-link">par</a></span><span class="op">(</span>mfrow <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">2</span>, <span class="fl">3</span><span class="op">)</span>, mar <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">2</span>, <span class="fl">2</span>, <span class="fl">2</span>, <span class="fl">1</span><span class="op">)</span><span class="op">)</span></span>
<span>  </span>
<span>  <span class="kw">for</span> <span class="op">(</span><span class="va">iter</span> <span class="kw">in</span> <span class="va">iterations</span><span class="op">)</span> <span class="op">{</span></span>
<span>    <span class="kw">if</span> <span class="op">(</span><span class="va">iter</span> <span class="op">==</span> <span class="fl">0</span><span class="op">)</span> <span class="op">{</span></span>
<span>      <span class="co"># Show white canvas</span></span>
<span>      <span class="va">img</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/array.html" class="external-link">array</a></span><span class="op">(</span><span class="fl">1</span>, dim <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="va">H</span>, <span class="va">W</span>, <span class="fl">3</span><span class="op">)</span><span class="op">)</span></span>
<span>      <span class="va">title</span> <span class="op">&lt;-</span> <span class="st">"Iteration 0 (White)"</span></span>
<span>    <span class="op">}</span> <span class="kw">else</span> <span class="op">{</span></span>
<span>      <span class="co"># Load saved iteration</span></span>
<span>      <span class="va">file_path</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/file.path.html" class="external-link">file.path</a></span><span class="op">(</span><span class="va">output_dir</span>, <span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste0</a></span><span class="op">(</span><span class="st">"iter_"</span>, <span class="fu"><a href="https://rdrr.io/r/base/sprintf.html" class="external-link">sprintf</a></span><span class="op">(</span><span class="st">"%06d"</span>, <span class="va">iter</span><span class="op">)</span>, <span class="st">".png"</span><span class="op">)</span><span class="op">)</span></span>
<span>      <span class="kw">if</span> <span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/files.html" class="external-link">file.exists</a></span><span class="op">(</span><span class="va">file_path</span><span class="op">)</span><span class="op">)</span> <span class="op">{</span></span>
<span>        <span class="va">img</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/png/man/readPNG.html" class="external-link">readPNG</a></span><span class="op">(</span><span class="va">file_path</span><span class="op">)</span></span>
<span>        <span class="va">title</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste</a></span><span class="op">(</span><span class="st">"Iteration"</span>, <span class="fu"><a href="https://rdrr.io/r/base/format.html" class="external-link">format</a></span><span class="op">(</span><span class="va">iter</span>, big.mark <span class="op">=</span> <span class="st">","</span><span class="op">)</span><span class="op">)</span></span>
<span>      <span class="op">}</span> <span class="kw">else</span> <span class="op">{</span></span>
<span>        <span class="kw">next</span></span>
<span>      <span class="op">}</span></span>
<span>    <span class="op">}</span></span>
<span>    </span>
<span>    <span class="fu"><a href="https://rdrr.io/r/graphics/frame.html" class="external-link">plot.new</a></span><span class="op">(</span><span class="op">)</span></span>
<span>    <span class="fu"><a href="https://rdrr.io/r/graphics/rasterImage.html" class="external-link">rasterImage</a></span><span class="op">(</span><span class="va">img</span>, <span class="fl">0</span>, <span class="fl">0</span>, <span class="fl">1</span>, <span class="fl">1</span><span class="op">)</span></span>
<span>    <span class="fu"><a href="https://rdrr.io/r/graphics/title.html" class="external-link">title</a></span><span class="op">(</span><span class="va">title</span>, cex.main <span class="op">=</span> <span class="fl">0.8</span><span class="op">)</span></span>
<span>  <span class="op">}</span></span>
<span>  </span>
<span>  <span class="co"># Show target image</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/graphics/frame.html" class="external-link">plot.new</a></span><span class="op">(</span><span class="op">)</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/graphics/rasterImage.html" class="external-link">rasterImage</a></span><span class="op">(</span><span class="va">target_img</span>, <span class="fl">0</span>, <span class="fl">0</span>, <span class="fl">1</span>, <span class="fl">1</span><span class="op">)</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/graphics/title.html" class="external-link">title</a></span><span class="op">(</span><span class="st">"Target Image"</span>, cex.main <span class="op">=</span> <span class="fl">0.8</span><span class="op">)</span></span>
<span>  </span>
<span>  <span class="fu"><a href="https://rdrr.io/r/graphics/par.html" class="external-link">par</a></span><span class="op">(</span>mfrow <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">1</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="op">}</span></span>
<span></span>
<span><span class="co"># Display progression (if files exist)</span></span>
<span><span class="kw">if</span> <span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/files2.html" class="external-link">dir.exists</a></span><span class="op">(</span><span class="va">output_dir</span><span class="op">)</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="fu">show_progression</span><span class="op">(</span><span class="op">)</span></span>
<span><span class="op">}</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="performance-comparison">ðŸ“ˆ <strong>Performance Comparison</strong><a class="anchor" aria-label="anchor" href="#performance-comparison"></a>
</h3>
<p>Compare the me results with other images:</p>
<div class="sourceCode" id="cb74"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Performance comparison table</span></span>
<span><span class="va">comparison_data</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span></span>
<span>  Image <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Me"</span>, <span class="st">"Butterfly"</span>, <span class="st">"Octopus"</span>, <span class="st">"Leaf"</span>, <span class="st">"Iamami"</span><span class="op">)</span>,</span>
<span>  Dimensions <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span></span>
<span>    <span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste</a></span><span class="op">(</span><span class="va">config</span><span class="op">$</span><span class="va">scaled_width</span>, <span class="st">"x"</span>, <span class="va">config</span><span class="op">$</span><span class="va">scaled_height</span><span class="op">)</span>,</span>
<span>    <span class="st">"2068 x 2091"</span>, </span>
<span>    <span class="st">"964 x 900"</span>,</span>
<span>    <span class="st">"800 x 1422"</span>,</span>
<span>    <span class="st">"788 x 605"</span></span>
<span>  <span class="op">)</span>,</span>
<span>  Iterations <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">100000</span>, <span class="fl">100000</span>, <span class="fl">100000</span>, <span class="fl">20000</span>, <span class="fl">100000</span><span class="op">)</span>,</span>
<span>  File_Size_KB <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span></span>
<span>    <span class="fu"><a href="https://rdrr.io/r/base/Round.html" class="external-link">round</a></span><span class="op">(</span><span class="va">config</span><span class="op">$</span><span class="va">file_size</span> <span class="op">/</span> <span class="fl">1024</span>, <span class="fl">1</span><span class="op">)</span>,</span>
<span>    <span class="fl">4356</span>,</span>
<span>    <span class="fl">380</span>,</span>
<span>    <span class="fl">132</span>,</span>
<span>    <span class="fl">336</span></span>
<span>  <span class="op">)</span>,</span>
<span>  Complexity <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span></span>
<span>    <span class="st">"High (3.2MB)"</span>,</span>
<span>    <span class="st">"Very High (4.3MB)"</span>,</span>
<span>    <span class="st">"Medium (380KB)"</span>,</span>
<span>    <span class="st">"Medium (132KB)"</span>, </span>
<span>    <span class="st">"Medium (336KB)"</span></span>
<span>  <span class="op">)</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="fu">knitr</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/knitr/man/kable.html" class="external-link">kable</a></span><span class="op">(</span><span class="va">comparison_data</span>, </span>
<span>             caption <span class="op">=</span> <span class="st">"Performance Comparison Across Images"</span>,</span>
<span>             align <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">'l'</span>, <span class="st">'c'</span>, <span class="st">'c'</span>, <span class="st">'c'</span>, <span class="st">'l'</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="key-insights">ðŸŽ¯ <strong>Key Insights</strong><a class="anchor" aria-label="anchor" href="#key-insights"></a>
</h3>
<div class="section level4">
<h4 id="why-100k-iterations-for-me">
<strong>Why 100K Iterations for Me?</strong><a class="anchor" aria-label="anchor" href="#why-100k-iterations-for-me"></a>
</h4>
<ol style="list-style-type: decimal">
<li>
<strong>High Complexity</strong>: The me image likely has intricate
facial features and details</li>
<li>
<strong>Large File Size</strong>: 3.2MB indicates rich texture and
color variation</li>
<li>
<strong>Fine Details</strong>: Facial features, hair, and
expressions require precise line placement</li>
<li>
<strong>Color Gradients</strong>: Skin tones and lighting need many
thin, overlapping strokes</li>
</ol>
</div>
<div class="section level4">
<h4 id="expected-results">
<strong>Expected Results</strong><a class="anchor" aria-label="anchor" href="#expected-results"></a>
</h4>
<ul>
<li>
<strong>Line Count</strong>: 1000-2000+ lines for full detail</li>
<li>
<strong>Quality</strong>: Near-photorealistic line painting</li>
<li>
<strong>Convergence</strong>: Stable improvement through 100K
steps</li>
<li>
<strong>Memory</strong>: Efficient bounding box updates for
performance</li>
</ul>
</div>
</div>
<div class="section level3">
<h3 id="running-the-full-demo">ðŸš€ <strong>Running the Full Demo</strong><a class="anchor" aria-label="anchor" href="#running-the-full-demo"></a>
</h3>
<p>To run the complete 100K MCMC demo:</p>
<div class="sourceCode" id="cb75"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Option 1: Run the vignette</span></span>
<span><span class="fu">rmarkdown</span><span class="fu">::</span><span class="fu"><a href="https://pkgs.rstudio.com/rmarkdown/reference/render.html" class="external-link">render</a></span><span class="op">(</span><span class="st">"vignettes/me_mcmc_demo.Rmd"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Option 2: Run directly in R</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/source.html" class="external-link">source</a></span><span class="op">(</span><span class="st">"vignettes/me_mcmc_demo.Rmd"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Option 3: Use the standalone script</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/source.html" class="external-link">source</a></span><span class="op">(</span><span class="st">"create_me_triptych.R"</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="further-reading">ðŸ“š <strong>Further Reading</strong><a class="anchor" aria-label="anchor" href="#further-reading"></a>
</h3>
<ul>
<li>
<strong>Package Documentation</strong>:
<code><a href="../reference/mcmcPainter-package.html">?mcmcPainter</a></code>
</li>
<li>
<strong>Core Functions</strong>: <code>?run_line_painter</code>,
<code>?create_triptych</code>
</li>
<li>
<strong>Utilities</strong>: <code>?get_image_info</code>,
<code>?auto_configure_mcmc</code>
</li>
<li>
<strong>Vignettes</strong>: See other image demos for
comparison</li>
</ul>
<hr>
<p><strong>Note</strong>: The 100K MCMC run will take 3-5 hours
depending on your system. The results will show the full artistic
potential of the algorithm on complex, personal images like me! ðŸ‘¤âœ¨</p>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

      </div>

</div>



      <footer><div class="copyright">
  <p></p>
<p>Developed by David Hodgson.</p>
</div>

<div class="pkgdown">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3.</p>
</div>

      </footer>
</div>






  </body>
</html>
